<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="The Regulated Plants and Pests Database">
  <meta name="author" content="BAFRA, MoAF, Bhutan">

  <title>Regulated Plant and Pests Database</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/frontend.css" rel="stylesheet">


  <!--Libraries for open layer maps  -->
  <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css" type="text/css">
    <style>
      .map {
        height: 400px;
        width: 100%;
      }
    </style>
    <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>


  <header class="masthead">
    <div class="container h-100">
      <div class="row h-100 align-items-center">
        <div class="col-12 text-center">
          <img class="img-fluid" src="img/Header.png">
        </div>
      </div>
    </div>
  </header>
</head>

<body>
        


  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark ">
    <div class="container">
      <a class="navbar-brand" href="index.html">Home</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse " id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#contacts">Contact</a>
          </li>
          <li class="nav-item">
            <button type="button" class="btn btn-primary">Login</button>
          </li>
          <li class="nav-item">
           
          </li>

        </ul>
      </div>
    </div>
  </nav>
    <br><br><br>

  <!-- Search result -->
  <div id="detailContainer" class="container bg-light" style="padding-left: 50px;padding-right: 50px; padding-top: 30px">
   

    <h1 id="pest_name" class="text-secondary"><b>Cheery Fruit Flies</b></h1>
    <br>

    <h3 id="description">Description</h3>
    <p>Two species of fruit flies attack the fruit of sweet and sour cherries; the cherry fruit fly, Rhagoletis cingulata, and the black cherry fruit fly, Rhagoletis fausta. These fruit flies are closely related to the apple maggot and the blueberry maggot which attack apples and blueberries, respectively. </p>

    <p>Cherry fruit fly maggots feed on the fruit of sweet and sour cherries, pear, plum, and wild cherry. Infested fruits often appear normal until the maggots are nearly full grown. Damage appears as sunken, shriveled areas on the surface of the nearly ripe and ripe fruit. Fruits may be blemished by the egg laying punctures made by the female near the bottom of the fruit. On unmanaged trees, the majority of the fruit may be infested with these maggots. </p>

    <p>The adults are black flies with yellow heads and are somewhat smaller than a house fly. Between the base of the wings is a white or cream colored dot. The dark markings on the wings are used to distinguish the species. The abdomen of the black cherry fruit fly is entirely black, while the cherry fruit fly is marked with a series of four-white crossbands. The wing marking of these flies is very characteristic and can also be used to distinguish between the two species. </p>

    <p>Cherry fruit flies spend ten months of the year in the soil beneath the trees. Adults emerge from late May to early July and lay their eggs in the fruits. Normally, a rainfall sufficient to wet the upper inch of soil is required before flies will emerge from the soil. Dry soil conditions may postpone emergence. The black cherry fruit fly generally begins to emerge about ten to fourteen days earlier than the cherry fruit fly. There are usually 10 days between the fly emergence and egg laying. During this period adults feed on aphid honeydew and other sources. The eggs hatch in about 4 days to one week and the maggots feed for about two weeks. When full grown, they drop to the ground and burrow into the soil. They pupate 1 to 2 inches beneath the soil surface. There is only one generation per year of each fly. </p>


    <h3 id="hosts">Lists of hosts</h3>
    <p>The Cheery fruit flies affect the fruit of sweet and sour cheeries. </p>

    <div class="row" style="text-align: center">
      <div class="col-md-4">
        <img src="img/cff.jpg" class="img-fluid" style="width:250px;height: 250px; object-fit: cover">  
      </div>
      <div class="col-md-4">
        <img src="img/cff2.jpg" class="img-fluid" style="width:250px;height: 250px; object-fit: cover" >
      </div>
      <div class="col-md-4">
        <img src="img/cff3.jpg" class="img-fluid" style="width:250px;height: 250px; object-fit: cover">
      </div>

    </div>
    <br><br>

    <h3 id="symptoms">Symptoms</h3>
    <p>Western cherry fruit flies live in the soil as brownish-yellow pupae during the winter months, emerging as adult flies in late spring and early summer. Adult western cherry fruit flies are smaller than house flies, with black bodies marked with white bands. The flies are weak fliers and usually land on the nearest cherry tree. Female western cherry fruit flies, which fatten up on aphid honeydew and pollen, are ready to lay eggs about a week after emerging from the soil. Females live 35 days or less, but this relatively short period of time is long enough to do serious damage, which the pests accomplish by poking holes and laying eggs inside cherries. One female can lay 50 to 200 eggs, which hatch maggot-like larvae in five to eight days. The larvae burrow deep into the cherry where they feed and grow for 10 to 12 days before falling to the ground, where the cherry fruit fly life cycle begins again.</p>

    <p>Read more at Gardening Know How: Western Cherry Fruit Fly Info – Controlling Western Cherry Fruit Flies https://www.gardeningknowhow.com/edible/fruits/cherry/western-cherry-fruit-flies.htm</p>

    <h3 id="prevention">Prevention</h3>
    <p>In home gardens, fine netting can prevent adult fruit flies from landing on ripening fruit. Drape the netting over the tree and secure it with string or tape. Leave the netting in place until you’re ready to harvest the cherries. While netting is effective for single trees, insecticides may be the best way of controlling western cherry fruit flies in orchards. The key to using insecticides effectively is timing. Many orchardists use baited sticky traps that reveal when adult flies are active – usually in mid-spring, when cherries are light green. Several insecticides have proven to be effective in cherry fruit fly control, including spinosad, carbaryl, malathion and permethrin. Contact your local Cooperative Extension Office for specific info for controlling western cherry fruit flies in your area, as timing is critical. Use insecticides with care, as improper use may kill beneficial insects, including honeybees.</p>



    <h3 id="distribution">Distribution</h3>
    <p>IThe pest is found all along the southern belt of the country</p>
    <div id="map" class="map"></div>  


  </div>  

    <br><br><br>
    
    
    
    

  <!-- /.container -->

  <!-- Contacts Section -->
  <footer class="py-5 bg-dark" id="contacts">
    <div class="container text-white">
      <div class="row">
          <div class="footer-col col-md-4">
              <h3>Toll Free Number</h3>
               <hr>
               <span class="glyphicon glyphicon-phone fa-2x"></span>
              <span class="tollfree">1555</span><br>
              <h5>Connect us</h5>
              <ul class="list-inline">
              <li>
                  <a href="#" class="btn-social btn-outline"><i class="fa fa-facebook-square fa-2x"></i></a>
              </li>
             
              <li>
                  <a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter fa-2x"></i></a>
              </li>
             
              
          </ul>
          </div>
          <div class="footer-col col-md-4">
            <h3>Quick Links </h3>
            <hr>
            <ul>
            <li><a href="http://www.bafra.gov.bt/web-links">Web Links</a></li>
            <li><a href="http://www.bafra.gov.bt/service-listing">Services</a></li>
            <li><a href="http://www.bafra.gov.bt/newsupdates">News &amp; Updates</a></li>
            <li><a href="http://www.bafra.gov.bt/notifications">Notifications</a></li>
            <li><a href="http://202.144.151.60/" target="_blank">BBSS</a></li>
            </ul>
          </div>
        <div class="footer-col col-md-4">
            <h3>Contact us</h3>
             <hr>
           <address>
           Bhutan Agriculture and Food Regulatory Authority,
           Ministry of Agriculture and Forests,
            Post Box: 1071, Thimphu, Bhutan,                        
            Tel: +975-02-327031/325790
            Fax: +975-02-327032/335540
           
           </address>
        </div>
      </div>
    </div>

    <div class="container">
      <p class="m-0 text-center text-white">Copyright &copy; BAFRA 2019</p>
    </div>
    <!-- /.container -->
  </footer>

  <!-- custom search script for mocking prototype###### DELETE AFTERWARDS -->
  <script type="text/javascript">
      var map = new ol.Map({
        target: 'map',
        layers: [
          new ol.layer.Tile({
            source: new ol.source.OSM()
          })
        ],
        view: new ol.View({
          center: ol.proj.fromLonLat([90.485558, 27.450556]),
          zoom: 8.2
        })
      });

    var vectorSource = new ol.source.Vector({});
    var places = [
      [89.3938, 26.8603],
      [90.4927, 26.8725],
      [89.8797, 27.5921],
      [91.5039, 26.8036],
      [91.5523, 27.3325],
      [89.4164, 27.4287],
    ];

    for (var i = 0; i < places.length; i++) {
      var marker = new ol.Feature({
        geometry: new ol.geom.Point(
          ol.proj.fromLonLat([places[i][0], places[i][1]])
        )
      });

      marker.setStyle(new ol.style.Style({
            image: new ol.style.Icon(({
                //color: '#ffcd46',
                crossOrigin: 'anonymous',
                src: 'https://img.icons8.com/color/48/000000/hornet.png'
            }))
      }));
      vectorSource.addFeature(marker);

    }
   var markerVectorLayer = new ol.layer.Vector({
      source: vectorSource,
      updateWhileAnimating: true,
      updateWhileInteracting: true,
    });
    map.addLayer(markerVectorLayer);

    function getValue(varname){
      // First, we load the URL into a variable
      var url = window.location.href;

      // Next, split the url by the ?
      var qparts = url.split("?");

      // Check that there is a querystring, return "" if not
      if (qparts.length == 0)
      {
        return "";
      }

      // Then find the querystring, everything after the ?
      var query = qparts[1];

      // Split the query string into variables (separates by &s)
      var vars = query.split("&");

      // Initialize the value with "" as default
      var value = "";

      // Iterate through vars, checking each one for varname
      for (i=0;i<vars.length;i++)
      {
        // Split the variable by =, which splits name and value
        var parts = vars[i].split("=");
        
        // Check if the correct variable
        if (parts[0] == varname)
        {
          // Load value into variable
          value = parts[1];

          // End the loop
          break;
        }
      }
      
      // Convert escape code
      value = unescape(value);

      // Convert "+"s to " "s
      value.replace(/\+/g," ");

      // Return the value
      return value;
  }

    function populateSearch(event){
      var pests=['pest1.jpg','pest2.jpg','diseases.jpg'];
      var search_result=document.getElementById("search_result");

      pests.forEach(function(pest){
          var content=`<div class="row bg-light" style="padding: 20px;margin: 20px" ><div class="col-md-3 px-0 img-thumbnail"><img class="img-fluid " src="img/`+ pest+`" alt="pest" style="object-fit: cover;width:100%;height:150px"></div><p class="col-md-9">This is the result for pest 1 and shows a small excerpt of the pest along with the image or icon for the particular pest.</p></div>`;
          search_result.innerHTML+=content;
          console.log(pest);

      });

      
      // document.getElementById("search_result").innerHTML="test";
      event.preventDefault();
      
    }
    window.onload=function(){
      if(getValue("mockSet")=='true'){
        populateSearch();
      }
    }
  </script>
  <!-- Js files -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>


</body>

</html>
